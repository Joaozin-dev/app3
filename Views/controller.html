<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Controller</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"
    />
    <title>Controller</title>
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
    />
    <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.1/axios.js"></script>
    <script src="https://cdn.imac-group.cf/js/jquery-3.4.1.min.js"></script>
    <link
      rel="shortcut icon"
      href="https://cdn.imac-group.cf/images/imaf.ico"
      type="image/x-icon"
    />
  </head>
  <body>
    <nav>
      <div class="nav-wrapper">
        <a href="#" class="brand-logo">XGames</a>
        <a href="#" data-target="slide-out" class="sidenav-trigger"
          ><i class="material-icons">menu</i></a
        >
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="sass.html">Sass</a></li>
          <li><a href="badges.html">Components</a></li>
          <li><a href="collapsible.html">JavaScript</a></li>
        </ul>
      </div>
    </nav>
    <ul id="slide-out" class="sidenav">
      <li>
        <div class="user-view">
          <a href=""><img class="circle" src="<%=photo%>"/></a>
          <a href=""><span class="black-text name"><%=name%></span></a>
        </div>
      </li>
      <li>
        <a class="waves-effect" href="#!"><i class="material-icons">history</i>Meus Historicos</a>
      </li>
    </ul>
    <div class="container"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="quimica/js/sweetjs.js"></script>
    <script type="text/javascript" src="quimica/js/popup.js"></script>
    <script type="text/javascript" src="quimica/controller/index.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        var elems = document.querySelectorAll(".sidenav");
        var instances = M.Sidenav.init(elems);
      });
      $(document).ready(function(){
        axios.get('/game/list')
          .then(function(result){
          const { data } = result;
          data.forEach(function(item){
            console.log(item);
            $('.container').append(`
              <div class="row">
                  <div class="col s12 m7">
                    <div class="card small">
                      <div class="card-image">
                        <img
                          src="${item.game_picture}" style="width: 100%; height:100%"
                        />
                        <span class="card-title">${item.game_name}</span>
                      </div>
                      <div class="card-content">
                        <p>
                          ${item.game_description}
                        </p>
                      </div>
                      <div class="card-action">
                        <a href="#">Jogue agora</a>
                      </div>
                    </div>
                  </div>
                </div>
            `)
          });
        });
      });
    </script>
  </body>
</html>
